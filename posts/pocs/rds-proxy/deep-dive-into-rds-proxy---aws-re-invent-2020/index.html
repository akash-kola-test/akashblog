<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Deep dive into RDS proxy - AWS re Invent 2020 | Akash´s corner</title>
<meta name="keywords" content="aws, rds, rds-proxy">
<meta name="description" content="Introduction
Here are the today&rsquo;s application needs in terms of RDS (or) database
Scalability

Scale to hundreds of thousands of connections


Availability

Increase app availability by reducing DB failover times
no need to maintain application logic for handling failovers


Security

Manage app data security with DB access controls

">
<meta name="author" content="">
<link rel="canonical" href="https://akash-kola-test.github.io/akashblog/posts/pocs/rds-proxy/deep-dive-into-rds-proxy---aws-re-invent-2020/">
<link crossorigin="anonymous" href="/akashblog/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://akash-kola-test.github.io/akashblog/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://akash-kola-test.github.io/akashblog/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://akash-kola-test.github.io/akashblog/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://akash-kola-test.github.io/akashblog/apple-touch-icon.png">
<link rel="mask-icon" href="https://akash-kola-test.github.io/akashblog/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://akash-kola-test.github.io/akashblog/posts/pocs/rds-proxy/deep-dive-into-rds-proxy---aws-re-invent-2020/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://akash-kola-test.github.io/akashblog/posts/pocs/rds-proxy/deep-dive-into-rds-proxy---aws-re-invent-2020/">
  <meta property="og:site_name" content="Akash´s corner">
  <meta property="og:title" content="Deep dive into RDS proxy - AWS re Invent 2020">
  <meta property="og:description" content="Introduction Here are the today’s application needs in terms of RDS (or) database
Scalability Scale to hundreds of thousands of connections Availability Increase app availability by reducing DB failover times no need to maintain application logic for handling failovers Security Manage app data security with DB access controls ">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-01-07T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-01-07T00:00:00+00:00">
    <meta property="article:tag" content="Aws">
    <meta property="article:tag" content="Rds">
    <meta property="article:tag" content="Rds-Proxy">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Deep dive into RDS proxy - AWS re Invent 2020">
<meta name="twitter:description" content="Introduction
Here are the today&rsquo;s application needs in terms of RDS (or) database
Scalability

Scale to hundreds of thousands of connections


Availability

Increase app availability by reducing DB failover times
no need to maintain application logic for handling failovers


Security

Manage app data security with DB access controls

">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://akash-kola-test.github.io/akashblog/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Deep dive into RDS proxy - AWS re Invent 2020",
      "item": "https://akash-kola-test.github.io/akashblog/posts/pocs/rds-proxy/deep-dive-into-rds-proxy---aws-re-invent-2020/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Deep dive into RDS proxy - AWS re Invent 2020",
  "name": "Deep dive into RDS proxy - AWS re Invent 2020",
  "description": "Introduction Here are the today\u0026rsquo;s application needs in terms of RDS (or) database\nScalability Scale to hundreds of thousands of connections Availability Increase app availability by reducing DB failover times no need to maintain application logic for handling failovers Security Manage app data security with DB access controls ",
  "keywords": [
    "aws", "rds", "rds-proxy"
  ],
  "articleBody": "Introduction Here are the today’s application needs in terms of RDS (or) database\nScalability Scale to hundreds of thousands of connections Availability Increase app availability by reducing DB failover times no need to maintain application logic for handling failovers Security Manage app data security with DB access controls Possible solutions Overprovisioning Database compute resources just for managing connections Maintain complex failure handling code to overcome transient failures Self-managing a database proxy Deploy, patch, and manage yet another component Distribute across AZs for high availability Solution Amazon RDS Proxy is the AWS service to help us in this solution.\nAmazon RDS Proxy A fully managed service\nNo need of deploying, patching, and managing needed Highly available database proxy for Amazon RDS and Amazon Aurora\nAWS take cares of availability of the proxy incase of any AZ failures. Scalable\nRDS proxy pools and shared DB connections to make applications more scalable. Database failures\nKeeps the connections and transactions in queue with in proxy when database in failover time. More secure\nStores passwords in secrets manager enforces IAM authentication Scalability Shares database connections between transactions with multiplexing. This scales to support hundreds of thousands of connections and this depends on size of the database. [!important] I guess, based on instance size we can configure the max connections\nDemo Testing or Visual Proofs Seamless and fast failovers Applications connections are preserved and transactions are queued during failovers. Detects failovers and connects to standby quicker, bypassing DNS caches and downstream TTLs. Basically proxy directly connects with the DB instance instead of using the endpoint powered to detect the correct DB instance endpoint. This gives the ability to quickly move towards standby from master when there is a failover for master. Demo Testing or Visual Proofs Security RDS Proxy supports two types of authentication\ntypical username and password authentication enforced IAM authentication Typical username and password authentication RDS will store the username and password under its secret manager. Whenever we try to authenticate with RDS Proxy it will try to match those credentials with stored credentials in its secret manager.\nEnforced IAM Authentication RDS Proxy also supports IAM authentication, where we will supply the generated token as password for RDS Proxy. The token can be generated from RDS using an API call. With this IAM authentication in place, the database passwords will never reach to the code.\nDemo Pricing model There are no additional charges associated with the default endpoint you get when you create an Amazon RDS Proxy. Adding an Amazon RDS Proxy endpoint provisions an AWS PrivateLink interface endpoint, which incurs additional charges as described on the PrivateLink pricing page. Amazon RDS Proxy is priced based on the capacity of underlying instances. For provisioned instances on Amazon Aurora, Amazon Relational Database Service (Amazon RDS) for MariaDB, Amazon Relational Database Service (Amazon RDS) for MySQL, and Amazon Relational Database Service (Amazon RDS) for PostgreSQL, Amazon RDS Proxy is priced per vCPU per hour. Partial hours are billed in 1-second increments with a 10-minute minimum charge following a billable status change such as creating, starting, or modifying. ",
  "wordCount" : "511",
  "inLanguage": "en",
  "datePublished": "2025-01-07T00:00:00Z",
  "dateModified": "2025-01-07T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://akash-kola-test.github.io/akashblog/posts/pocs/rds-proxy/deep-dive-into-rds-proxy---aws-re-invent-2020/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Akash´s corner",
    "logo": {
      "@type": "ImageObject",
      "url": "https://akash-kola-test.github.io/akashblog/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://akash-kola-test.github.io/akashblog/" accesskey="h" title="Akash´s corner (Alt + H)">Akash´s corner</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://akash-kola-test.github.io/akashblog/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://akash-kola-test.github.io/akashblog/posts" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://akash-kola-test.github.io/akashblog/about" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://akash-kola-test.github.io/akashblog/contact" title="Contact">
                    <span>Contact</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Deep dive into RDS proxy - AWS re Invent 2020
    </h1>
    <div class="post-meta"><span title='2025-01-07 00:00:00 +0000 UTC'>January 7, 2025</span>

</div>
  </header> 
  <div class="post-content"><h2 id="introduction">Introduction<a hidden class="anchor" aria-hidden="true" href="#introduction">#</a></h2>
<p>Here are the today&rsquo;s application needs in terms of RDS (or) database</p>
<h3 id="scalability">Scalability<a hidden class="anchor" aria-hidden="true" href="#scalability">#</a></h3>
<ul>
<li>Scale to hundreds of thousands of connections</li>
</ul>
<p><img alt="Deep dive into RDS proxy - AWS re Invent 2020 - Scalability" loading="lazy" src="/akashblog/images/Deep%20dive%20into%20RDS%20proxy%20-%20AWS%20re%20Invent%202020%20-%20Scalability.png"></p>
<h3 id="availability">Availability<a hidden class="anchor" aria-hidden="true" href="#availability">#</a></h3>
<ul>
<li>Increase app availability by reducing DB failover times</li>
<li>no need to maintain application logic for handling failovers</li>
</ul>
<p><img alt="Deep dive into RDS proxy - AWS re Invent 2020 - Availability" loading="lazy" src="/akashblog/images/Deep%20dive%20into%20RDS%20proxy%20-%20AWS%20re%20Invent%202020%20-%20Availability.png"></p>
<h3 id="security">Security<a hidden class="anchor" aria-hidden="true" href="#security">#</a></h3>
<ul>
<li>Manage app data security with DB access controls</li>
</ul>
<p><img alt="Deep dive into RDS proxy - AWS re Invent 2020 - Security" loading="lazy" src="/akashblog/images/Deep%20dive%20into%20RDS%20proxy%20-%20AWS%20re%20Invent%202020%20-%20Security.png"></p>
<h3 id="possible-solutions">Possible solutions<a hidden class="anchor" aria-hidden="true" href="#possible-solutions">#</a></h3>
<ul>
<li>Overprovisioning
<ul>
<li>Database compute resources just for managing connections</li>
<li>Maintain complex failure handling code to overcome transient failures</li>
</ul>
</li>
<li>Self-managing a database proxy
<ul>
<li>Deploy, patch, and manage yet another component</li>
<li>Distribute across AZs for high availability</li>
</ul>
</li>
</ul>
<h3 id="solution">Solution<a hidden class="anchor" aria-hidden="true" href="#solution">#</a></h3>
<p>Amazon RDS Proxy is the AWS service to help us in this solution.</p>
<h2 id="amazon-rds-proxy">Amazon RDS Proxy<a hidden class="anchor" aria-hidden="true" href="#amazon-rds-proxy">#</a></h2>
<ul>
<li>
<p>A fully managed service</p>
<ul>
<li>No need of deploying, patching, and managing needed</li>
</ul>
</li>
<li>
<p>Highly available database proxy for Amazon RDS and Amazon Aurora</p>
<ul>
<li>AWS take cares of availability of the proxy incase of any AZ failures.</li>
</ul>
</li>
<li>
<p>Scalable</p>
<ul>
<li>RDS proxy pools and shared DB connections to make applications more scalable.</li>
</ul>
</li>
<li>
<p>Database failures</p>
<ul>
<li>Keeps the connections and transactions in queue with in proxy when database in failover time.</li>
</ul>
</li>
<li>
<p>More secure</p>
<ul>
<li>Stores passwords in secrets manager</li>
<li>enforces IAM authentication</li>
</ul>
</li>
</ul>
<h3 id="scalability-1">Scalability<a hidden class="anchor" aria-hidden="true" href="#scalability-1">#</a></h3>
<ul>
<li>Shares database connections between transactions with multiplexing.</li>
<li>This scales to support hundreds of thousands of connections and this depends on size of the database.</li>
</ul>
<blockquote>
<p>[!important]
I guess, based on instance size we can configure the max connections</p>
</blockquote>
<p><img alt="Deep dive into RDS proxy - AWS re Invent 2020 - Connection pooling" loading="lazy" src="/akashblog/images/Deep%20dive%20into%20RDS%20proxy%20-%20AWS%20re%20Invent%202020%20-%20Connection%20pooling.png"></p>
<h4 id="demo">Demo<a hidden class="anchor" aria-hidden="true" href="#demo">#</a></h4>
<h4 id="testing-or-visual-proofs">Testing or Visual Proofs<a hidden class="anchor" aria-hidden="true" href="#testing-or-visual-proofs">#</a></h4>
<h3 id="seamless-and-fast-failovers">Seamless and fast failovers<a hidden class="anchor" aria-hidden="true" href="#seamless-and-fast-failovers">#</a></h3>
<ul>
<li>Applications connections are preserved and transactions are queued during failovers.</li>
<li>Detects failovers and connects to standby quicker, bypassing DNS caches and downstream TTLs.</li>
<li>Basically proxy directly connects with the DB instance instead of using the endpoint powered to detect the correct DB instance endpoint. This gives the ability to quickly move towards standby from master when there is a failover for master.</li>
</ul>
<p><img alt="Deep dive into RDS proxy - AWS re Invent 2020 - Failover" loading="lazy" src="/akashblog/images/Deep%20dive%20into%20RDS%20proxy%20-%20AWS%20re%20Invent%202020%20-%20Failover.png"></p>
<h4 id="demo-1">Demo<a hidden class="anchor" aria-hidden="true" href="#demo-1">#</a></h4>
<h4 id="testing-or-visual-proofs-1">Testing or Visual Proofs<a hidden class="anchor" aria-hidden="true" href="#testing-or-visual-proofs-1">#</a></h4>
<h3 id="security-1">Security<a hidden class="anchor" aria-hidden="true" href="#security-1">#</a></h3>
<p>RDS Proxy supports two types of authentication</p>
<ul>
<li>typical username and password authentication</li>
<li>enforced IAM authentication</li>
</ul>
<h4 id="typical-username-and-password-authentication">Typical username and password authentication<a hidden class="anchor" aria-hidden="true" href="#typical-username-and-password-authentication">#</a></h4>
<p>RDS will store the username and password under its secret manager. Whenever we try to authenticate with RDS Proxy it will try to match those credentials with stored credentials in its secret manager.</p>
<h4 id="enforced-iam-authentication">Enforced IAM Authentication<a hidden class="anchor" aria-hidden="true" href="#enforced-iam-authentication">#</a></h4>
<p>RDS Proxy also supports IAM authentication, where we will supply the generated token as password for RDS Proxy. The token can be generated from RDS using an API call. With this IAM authentication in place, the database passwords will never reach to the code.</p>
<p><img alt="Deep dive into RDS proxy - AWS re Invent 2020 - IAM Authentication" loading="lazy" src="/akashblog/images/Deep%20dive%20into%20RDS%20proxy%20-%20AWS%20re%20Invent%202020%20-%20IAM%20Authentication.png"></p>
<h4 id="demo-2">Demo<a hidden class="anchor" aria-hidden="true" href="#demo-2">#</a></h4>
<h2 id="pricing-model">Pricing model<a hidden class="anchor" aria-hidden="true" href="#pricing-model">#</a></h2>
<ul>
<li>There are no additional charges associated with the default endpoint you get when you create an Amazon RDS Proxy.</li>
<li>Adding an Amazon RDS Proxy endpoint provisions an AWS PrivateLink interface endpoint, which incurs additional charges as described on the <a href="https://aws.amazon.com/privatelink/pricing/">PrivateLink pricing page</a>.</li>
<li>Amazon RDS Proxy is <strong>priced based on the capacity of underlying instances</strong>. For provisioned instances on Amazon Aurora, Amazon Relational Database Service (Amazon RDS) for MariaDB, Amazon Relational Database Service (Amazon RDS) for MySQL, and Amazon Relational Database Service (Amazon RDS) for PostgreSQL, Amazon RDS <strong>Proxy is priced per vCPU per hour</strong>.</li>
<li>Partial hours are billed in 1-second increments with a 10-minute minimum charge following a billable status change such as creating, starting, or modifying.</li>
</ul>
<p><img alt="Deep dive into RDS proxy - AWS re Invent 2020 - Cost pricing us-east-2" loading="lazy" src="/akashblog/images/Deep%20dive%20into%20RDS%20proxy%20-%20AWS%20re%20Invent%202020%20-%20Cost%20pricing%20us-east-2.png"></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://akash-kola-test.github.io/akashblog/tags/aws/">Aws</a></li>
      <li><a href="https://akash-kola-test.github.io/akashblog/tags/rds/">Rds</a></li>
      <li><a href="https://akash-kola-test.github.io/akashblog/tags/rds-proxy/">Rds-Proxy</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://akash-kola-test.github.io/akashblog/">Akash´s corner</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
